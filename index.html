<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jmax Web Client</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      color: white;
      font-family: sans-serif;
    }
    .initial-loader {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background-color: black;
      font-size: 20px;
      color: lightgray;
    }
    .minecraft {
      position: absolute;
      top: 30px;
      left: calc(50% - 137px);
    }
    .splash {
      position: absolute;
      top: 32px;
      left: 227px;
      color: #ff0;
      transform: translate(-50%, -50%) rotateZ(-20deg) scale(1);
      width: max-content;
      text-shadow: 1px 1px #220;
      font-size: 10px;
      animation: splashAnim 400ms infinite alternate linear;
    }
    @keyframes splashAnim {
      to { transform: translate(-50%, -50%) rotateZ(-20deg) scale(1.07); }
    }
    .menu {
      display: flex;
      flex-direction: column;
      gap: 4px 0;
      position: absolute;
      top: calc(25% + 48px);
      left: 50%;
      width: 200px;
      transform: translate(-50%);
    }
    .menu-row {
      display: flex;
      flex-direction: row;
      gap: 0 4px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="initial-loader">
    <div class="title">Loading...</div>
    <div class="subtitle">A true Minecraft client in your browser!</div>
  </div>

  <div id="ui-root"></div>

  <script type="module">
    import { LitElement, html, css } from 'https://cdn.skypack.dev/lit';

    class TitleScreen extends LitElement {
      static styles = css`
        .minecraft { position: absolute; top: 30px; left: calc(50% - 137px); }
        .splash { position: absolute; top: 32px; left: 227px; color: #ff0; transform: translate(-50%, -50%) rotateZ(-20deg) scale(1); width: max-content; text-shadow: 1px 1px #220; font-size: 10px; animation: splashAnim 400ms infinite alternate linear; }
        @keyframes splashAnim { to { transform: translate(-50%, -50%) rotateZ(-20deg) scale(1.07); } }
      `;

      render() {
        const splashTexts = [
          "Made by Jmax",
          "Powered by Prismarine",
          "Bro, the tech team sucks",
          "Gonna get a strike with this one",
          "Jsq4d forever RIP Bubble",
          "", "", "" // 3 blank templates for future splashes
        ];
        const getRandomSplash = () => splashTexts[Math.floor(Math.random() * splashTexts.length)];

        return html`
          <div class="minecraft">
            <span class="splash">${getRandomSplash()}</span>
          </div>
        `;
      }
    }

    customElements.define('pmui-titlescreen', TitleScreen);

    // Once DOM loaded, remove loader and add title screen
    document.addEventListener('DOMContentLoaded', () => {
      const loader = document.querySelector('.initial-loader');
      if (loader) loader.remove();

      const uiRoot = document.getElementById('ui-root');
      const titleScreen = document.createElement('pmui-titlescreen');
      titleScreen.style.display = 'block';
      uiRoot.appendChild(titleScreen);
    });
  </script>
</body>
</html>
